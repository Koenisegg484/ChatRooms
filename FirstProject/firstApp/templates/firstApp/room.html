{% extends 'main.html' %}


{% block content %}
<center>
    <h1>This is the page for selecting room servers</h1>
    <h3>Currently online rooms : {{ counts }}</h3>
</center><br><br>

<style>
    .home-container{
        display: grid;
        grid-template-columns: 1fr 3fr;
    }

    .roomBox{
        margin: 5px auto;
        width:30rem;
        padding:10px;
        border: 5px solid rgb(100, 90, 90);
        border-radius: 10px;
    }
    a{
        color: rgb(0, 0, 0);
        text-decoration: none;
    }
    .roomBox .host{
        padding: 5px 9px;
        align-items: center;
        border: none;
        border-radius: 10px;
        background-color: rgb(207, 178, 140);
    }
    .roomBox .inBox{
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .roomBox #roomName{
        color: rgb(114, 47, 222);
        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        font-weight: 600;
        font-size: larger;
    }
    .roomBox .edButtons{
        color: rgb(76, 4, 144);
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        font-weight: 500;
    }
    .roomBox .topic{
        padding: 5px 9px;
        align-items: center;
        border: none;
        border-radius: 10px;
        background-color: rgb(33, 167, 224);
    }


    .sidebar{
        justify-content: center;
    }
    
    .sidebar .sidebar-topic{
        margin-left: 5%;
        text-align: center;
        font-size: 20px;
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        padding: 7px 15px;
        align-items: center;
        border: none;
        border-radius: 10px;
        background-color: rgb(147, 102, 205);
    }
</style>

<div class="home-container">
    <div class="sidebar">
        <h3>Browse Topics</h3><hr>
        <a href="/room/">
            <span class="sidebar-topic">
                All Topics
            </span><br><br>
        {% for topic in topics %}
        <a href="/room/?q={{topic.name}}">
            <span class="sidebar-topic">
                {{ topic.name }}
            </span><br><br>
        </a>
        {% endfor %}
    </div>

    <div class="allRooms">
        {% if rooms%}
            {% for room in rooms %}
                <div class="roomBox">
                    <span class="host">@{{ room.host }}</span>
                    <div class="inBox">
                        <!-- <h5>{{ room.id }}</h5> -->
                        <a id="roomName" href="/room/{{room.id}}/"><p>{{ room.name }}</p></a>
                        {% if request.user == room.host %}
                            <div class="edButtons">
                                <a href="/update-room/{{room.id}}/">Edit</a><br><hr>
                                <a href="/delete-room/{{room.id}}/">Delete</a>
                            </div>
                        {% endif %}
                    </div>
                    <small class="topic">{{ room.topic }}</small>
                </div>
            {% endfor %}
        {% else %}
            <div class="roomBox">
                <center>
                    <h3>!!! No search results found !!!</h3>
                </center>
            </div>
        {% endif %}
        </div>
</div>
{% endblock %}